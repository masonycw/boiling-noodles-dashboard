# 滾麵專案 - 輕量級 ERP 與進銷存系統建置計畫

## 一、 系統架構全景圖 (System Architecture)

### 1. 📱 員工端網頁 (獨立 Port 8502)
- **權限隔離**：與老闆的智慧報表完全分開，員工無法看到營業額與財務數據。
- **叫貨與庫存輔助**：顯示根據歷史銷售量推算的「建議叫貨量」，提供填寫庫存盤點表單。
- **零用金與帳單管理**：
    - 紀錄店內現金進出（叫貨支出、雜支等）。
    - 收貨確認與單據上傳（結合 AI 進行 OCR 辨識，防呆及價格異常警示）。

### 2. 💻 老闆端網頁 (擴充現有 Port 8501)
- **營運分析**：現有的 POS 數據、客單價、CRM 等分析。
- **後台審核**：查看員工上傳的單據與 AI 辨識結果，進行手動修正。
- **記帳與財務報表**：
    - 統整「店面營收」、「員工零用金支出」與「老闆端各項開銷（租金、水電、薪資等）」。
    - 自動產出：損益表 (P&L)、現金流量表 (Cash Flow)。

---

## 二、 階段性開發規劃 (Roadmap)

- [ ] **Phase 1：基礎記帳與獨立網頁 (地基打底)**
    - 建置員工端的獨立網頁（Port 8502）。
    - 實作「零用金流水帳」輸入介面。
    - 實作老闆端的「支出總表與手動記帳」功能，產出初步的損益表雛形。
    - **技術升級**：導入關聯式資料庫（如 PostgreSQL 或 SQLite 代替單純的檔案）儲存進銷存與財務資料，支援多人同時安全地讀寫。

- [ ] **Phase 2：進階叫貨預測 (串接前後台)**
    - 匯入 BOM（物料清單）表。
    - 將前台銷售數據（歷史日均銷量）自動轉換為「建議叫貨清單」。
    - 叫貨與零用金支出連動（員工按下確認叫貨後，自動產生一筆財務紀錄）。

- [ ] **Phase 3：AI 視覺賦能 (自動化收據處理)**
    - 員工端網頁加入手機拍照上傳單據功能。
    - 串接 AI Vision API 進行收據文字與金額辨識。
    - 實作「進價警示邏輯」（比對歷史進價與表定公定價，防止廠商漲價未通知或打錯單）。

---

## 三、 核心準備工作清單 (您目前的作業)

為了讓後續開發更順利，請您有空時協助盤點並建立以下資料表（Excel / Google Sheets 皆可）：

- [ ] **1. 建立「會計科目表 (Chart of Accounts)」**
    - 幫店裡的支出做分類，例如：直接成本（食材、包材）、人事費用（正職、時薪、勞健保）、營業費用（水電瓦斯、租金、維修）、行銷費用等。未來記帳時才能正確歸類產出財務報表。

- [ ] **2. 建立「BOM 表 (物料清單對應表)」**
    - 寫下「原物料」與「終端銷售商品」的轉換公式。例如：「1 碗牛肉麵 = 1 團麵 + 120g 牛肉 + 400cc 高湯」。

- [ ] **3. 準備「進貨廠商與公定價表」 (For Phase 3 的 AI 預警)**
    - 列出常叫的原物料名稱、對應的供應商、約定進價（或歷史平均進價），以及容許的價格浮動範圍（例如：高麗菜容許價格波動 20%），供未來 AI 讀單據時做防呆認定。
